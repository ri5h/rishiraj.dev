<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>New Features in Php 8.1 - Enums - rishiraj.dev</title><meta name=theme-color><meta name=description content="Description An Enumerated type or enum is a data type that is used to demote a collection of specific type of data. It can contain a group of named values (also called enumerators of type).
We can assign any of the allowed legal values to the variables in enum and any function can also type check against the enumerated type.
- rfc Details Link: https://wiki.php.net/rfc/enumerations Authors: Larry Garfield, Ilija Tovilo Status: In Voting(date of writing) Target Version: PHP 8."><meta name=author content><link rel="preload stylesheet" as=style href=https://rishiraj.dev/main.min.css><script defer src=https://rishiraj.dev/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://rishiraj.dev/theme.png><link rel=preload as=image href=https://rishiraj.dev/twitter.svg><link rel=preload as=image href=https://rishiraj.dev/github.svg><link rel=icon href=https://rishiraj.dev/favicon.ico><link rel=apple-touch-icon href=https://rishiraj.dev/apple-touch-icon.png><meta name=generator content="Hugo 0.110.0"><meta property="og:title" content="New Features in Php 8.1 - Enums"><meta property="og:description" content="Description An Enumerated type or enum is a data type that is used to demote a collection of specific type of data. It can contain a group of named values (also called enumerators of type).
We can assign any of the allowed legal values to the variables in enum and any function can also type check against the enumerated type.
- rfc Details Link: https://wiki.php.net/rfc/enumerations Authors: Larry Garfield, Ilija Tovilo Status: In Voting(date of writing) Target Version: PHP 8."><meta property="og:type" content="article"><meta property="og:url" content="https://rishiraj.dev/post/new-features-in-php-8_1-enums/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-02-10T09:09:37+01:00"><meta property="article:modified_time" content="2021-02-10T09:09:37+01:00"><meta itemprop=name content="New Features in Php 8.1 - Enums"><meta itemprop=description content="Description An Enumerated type or enum is a data type that is used to demote a collection of specific type of data. It can contain a group of named values (also called enumerators of type).
We can assign any of the allowed legal values to the variables in enum and any function can also type check against the enumerated type.
- rfc Details Link: https://wiki.php.net/rfc/enumerations Authors: Larry Garfield, Ilija Tovilo Status: In Voting(date of writing) Target Version: PHP 8."><meta itemprop=datePublished content="2021-02-10T09:09:37+01:00"><meta itemprop=dateModified content="2021-02-10T09:09:37+01:00"><meta itemprop=wordCount content="617"><meta itemprop=keywords content="php,"><meta name=twitter:card content="summary"><meta name=twitter:title content="New Features in Php 8.1 - Enums"><meta name=twitter:description content="Description An Enumerated type or enum is a data type that is used to demote a collection of specific type of data. It can contain a group of named values (also called enumerators of type).
We can assign any of the allowed legal values to the variables in enum and any function can also type check against the enumerated type.
- rfc Details Link: https://wiki.php.net/rfc/enumerations Authors: Larry Garfield, Ilija Tovilo Status: In Voting(date of writing) Target Version: PHP 8."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://rishiraj.dev/>rishiraj.dev</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/personal/>Personal</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/ri5hirajp target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/ri5h target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">New Features in Php 8.1 - Enums</h1><div class="text-sm opacity-60"><time>Feb 10, 2021</time></div></header><section><br><h1 id=description>Description</h1><p>An Enumerated type or enum is a data type that is used to demote a collection of specific type of data. It can contain a group of named values (also called enumerators of type).</p><p>We can assign any of the allowed legal values to the variables in enum and any function can also type check against the enumerated type.</p><h2 id=--rfc-details>- rfc Details</h2><ul><li><em>Link:</em> <a href=https://wiki.php.net/rfc/enumerations>https://wiki.php.net/rfc/enumerations</a></li><li><em>Authors:</em> Larry Garfield, Ilija Tovilo</li><li><em>Status:</em> In Voting(date of writing)</li><li><em>Target Version:</em> PHP 8.1</li><li><em>Implementation:</em> <a href=https://github.com/php/php-src/pull/6489>https://github.com/php/php-src/pull/6489</a></li></ul><h2 id=--enum-syntax>- enum syntax:</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>enum</span> <span style=color:#a6e22e>Color</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Red</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Green</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Blue</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><br><h1 id=diving-deep>Diving deep</h1><p>Enums can be created by using the <code>enum</code> keyword and name of the Enum after it. It can declare <code>string</code> or <code>int</code> and can implement interfaces or extend a class. During the parsing, a new token named <code>T_NUM</code> is assigned a value of <code>369</code>.</p><p>Enumerations are built on top of objects and classes and thus will pass an <em>object</em> type check. when it comes to namespace they share it with other classes, traits and interfaces.</p><h2 id=--using-types-with-enum>- using types with <code>enum</code></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>enum</span> <span style=color:#a6e22e>Color</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Red</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;red&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Green</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;green&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Blue</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;blue&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=--implementing-a-interface>- implementing a interface</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>enum</span> <span style=color:#a6e22e>Color</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>ColorInterface</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Red</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;red&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Green</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;green&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>Blue</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;blue&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=--new-enum_exists-function>- new <code>enum_exists</code> function</h2><p>Along with enum we also will have a new function to check weather the enum being specifies exists or not.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span>  <span style=color:#a6e22e>enum_exists</span>(<span style=color:#a6e22e>string</span> $enum, <span style=color:#a6e22e>bool</span> $autoload <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>bool</span> {}
</span></span></code></pre></div><h2 id=--new-interface-unitenum>- new interface <code>UnitEnum</code></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// Implicitly implemented by engine
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Cannot be implemented by user
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>UnitEnum</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// returns an array of all poossible cases
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Cannot be declared inside an Enum
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>cases</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>array</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=--new-interface-scalarenum>- new interface <code>ScalarEnum</code></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// Implicitly implemented by engine when enum values are scalar
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Cannot be implemented by user
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ScalarEnum</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>UnitEnum</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Cannot be declared inside an Enum
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>from</span>(<span style=color:#a6e22e>int</span><span style=color:#f92672>|</span><span style=color:#a6e22e>string</span> $value)<span style=color:#f92672>:</span> <span style=color:#66d9ef>static</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>tryFrom</span>(<span style=color:#a6e22e>int</span><span style=color:#f92672>|</span><span style=color:#a6e22e>string</span> $value)<span style=color:#f92672>:</span> <span style=color:#f92672>?</span><span style=color:#66d9ef>static</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=magic-constants>Magic constants</h2><p>Enums because they are subtype of classes support magic contants including <code>::class</code> , <code>__CLASS__</code> , <code>__FUNCTION__</code>, <code>__METHOD__</code> . They also behave as a standard php object and have functions like <code>get_class</code>, <code>is_a</code>, <code>is_object</code>.</p><br><h1 id=when-can-we-expect-it>When can we expect it?</h1><p>While the RFC is currently in voting (as of date of writing). We already know that there is a strong support for it. The target for the RFC is php 8.1 which we can expect to be released around November 2021. Check out the current milestone here: <a href=https://github.com/php/php-src/milestone/3>php/php-src Milestones</a> which says its <code>58%</code> complete at the time of writing.</p><br><h1 id=current-situation>Current Situation</h1><p>Enums are generally used to represt named values in a structured and typed ways instead of directly using string values.</p><p>Instead of native enum type a <a href=https://www.php.net/manual/en/class.splenum.php>SPL Implementation</a> have existed for a long time. Along with a few packages that can be used to implement/use enum types in php.</p><ol><li><a href=https://github.com/spatie/enum>spatie/enum</a> by <a href=https://docs.spatie.be/enum/v3/introduction>spatie</a></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// Creating
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>\Spatie\Enum\Enum</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>/**
</span></span></span><span style=display:flex><span><span style=color:#e6db74> * @method static self red()
</span></span></span><span style=display:flex><span><span style=color:#e6db74> * @method static self green()
</span></span></span><span style=display:flex><span><span style=color:#e6db74> * @method static self blue()
</span></span></span><span style=display:flex><span><span style=color:#e6db74> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColorEnum</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Enum</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setColor</span>(<span style=color:#a6e22e>ColorEnum</span> $color)<span style=color:#f92672>:</span> <span style=color:#a6e22e>void</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> $color;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>$class<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setColor</span>(<span style=color:#a6e22e>ColorEnum</span><span style=color:#f92672>::</span><span style=color:#a6e22e>green</span>());
</span></span></code></pre></div><ol start=2><li><a href=https://github.com/myclabs/php-enum>myclabs/php-enum</a> by <a href=https://twitter.com/matthieunapoli>Matthieu Napoli</a></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ColorEnum</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Enum</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>RED</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;red&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>GREEN</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;green&#39;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>BLUE</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;blue&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Backgroud</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setColor</span>(<span style=color:#a6e22e>string</span> $color)<span style=color:#f92672>:</span> <span style=color:#a6e22e>void</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> $color;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using magic methods for typesafety and restricting allowed values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>$background<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setColor</span>(<span style=color:#a6e22e>ColorEnum</span><span style=color:#f92672>::</span><span style=color:#a6e22e>RED</span>());
</span></span></code></pre></div><ol start=3><li><a href=https://github.com/topics/php-enum>And a whole lot of others</a></li></ol><h2 id=before-you-leave>Before You Leave</h2><p>Did you liked the article? is something missing or wrong? Send a DM on twitter where I regularly post about new articles and videos I make about tech news. <a href=https://twitter.com/ri5hirajp>Twitter</a></p></section><footer class="mt-12 flex flex-wrap"><a class="mr-1.5 mb-1.5 rounded-lg bg-black/[3%] px-5 py-2 no-underline dark:bg-white/[8%]" href=https://rishiraj.dev/tags/php>php</a></footer></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://rishiraj.dev/>rishiraj.dev</a></div><a class="link mx-0" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️</footer></body></html>